<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amigo Secreto</title>
    <link rel="stylesheet" href="./styles/style.css">
</head>

<body>
    <header class="cabecalho">
        <nav class="cabecalho__menu">
        </nav>
    </header>
    <main class="apresentacao">
        <section class="apresentacao__conteudo">
            <h1 class="apresentacao__conteudo__titulo">Jogo do Amigo Secreto</h1>
            <p class="apresentacao__conteudo__texto">Adicione os nomes dos participantes e sorteie o amigo secreto!</p>
            
            <div class="amigo-secreto">
                <!-- Campo de entrada para adicionar nomes -->
                <input type="text" id="nomeAmigo" placeholder="Digite o nome do amigo">
                <!-- Contêiner para os botões -->
                <div class="botoes">
                    <button onclick="adicionarAmigo()">Adicionar</button>
                    <button onclick="sortearAmigo()">Sortear Amigo</button>
                    <button onclick="novoJogo()">Novo Jogo</button>
                </div>
                <!-- Lista para exibir os nomes dos amigos -->
                <ul id="listaAmigos"></ul>
                <!-- Parágrafo para exibir o resultado do sorteio -->
                <p id="resultadoSorteio"></p>
            </div>
        </section>
    </main>

    <script>
        // Array para armazenar os nomes dos amigos
        let amigos = [];

        // Função para adicionar um amigo à lista
        function adicionarAmigo() {
            // Captura o valor do campo de entrada usando document.getElementById
            const nomeAmigo = document.getElementById('nomeAmigo').value.trim();

            // Validação: verifica se o campo está vazio
            if (nomeAmigo === "") {
                alert("Por favor, insira um nome."); // Exibe um alerta se o campo estiver vazio
                return; // Interrompe a execução da função
            }

            // Adiciona o nome ao array de amigos usando o método .push()
            amigos.push(nomeAmigo);

            // Limpa o campo de entrada após adicionar o nome
            document.getElementById('nomeAmigo').value = "";

            // Atualiza a lista de amigos exibida na tela
            atualizarListaAmigos();
        }

        // Função para atualizar a lista de amigos na tela
        function atualizarListaAmigos() {
            // Obtém o elemento da lista usando document.getElementById
            const listaAmigos = document.getElementById('listaAmigos');

            // Limpa a lista existente para evitar duplicação
            listaAmigos.innerHTML = "";

            // Percorre o array de amigos usando um loop for
            for (let i = 0; i < amigos.length; i++) {
                // Cria um novo elemento <li> para cada amigo
                const li = document.createElement('li');
                // Define o texto do <li> como o nome do amigo
                li.textContent = amigos[i];
                // Adiciona o <li> à lista
                listaAmigos.appendChild(li);
            }
        }

        // Função para sortear um amigo secreto
        function sortearAmigo() {
            // Verifica se há pelo menos dois amigos para sortear
            if (amigos.length < 2) {
                alert("Adicione pelo menos dois amigos para sortear.");
                return; // Interrompe a execução da função
            }

            // Sorteia um nome aleatório do array de amigos
            const sorteado = amigos[Math.floor(Math.random() * amigos.length)];

            // Exibe o resultado do sorteio na tela
            document.getElementById('resultadoSorteio').textContent = `O amigo secreto é: ${sorteado}`;
        }

        // Função para reiniciar o jogo
        function novoJogo() {
            // Limpa o array de amigos
            amigos = [];

            // Limpa a lista de amigos exibida na tela
            document.getElementById('listaAmigos').innerHTML = "";

            // Limpa o resultado do sorteio
            document.getElementById('resultadoSorteio').textContent = "";
        }
    </script>
</body>

</html>